<div *ngIf="!isLoading">
  <div class="card card-block">
    <form #form="ngForm">
      <div class="form-group row">
        <h4 class="col-sm-10">{{bhJournal.name}} {{JournalActionText}}</h4>
      </div>
      <div class="form-group row">
        <label class="col-sm-3 col-form-label">Name des Journals: </label>
        <div class="col-sm-8">
          <input [(ngModel)]="bhJournal.name" name="name" class="form-control" type="text" placeholder="Name"
                 aria-describedby="bhJournalHelpBlock" required/>
          <p id="bhJournalHelpBlock" class="form-text text-muted">
            Bitte den Namen des Journals eingeben.
          </p>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-3">Diagnose: </label>
        <div class="col-sm-8">
          <input [(ngModel)]="bhJournal.diagnose" name="diagnose" class="form-control" type="text"
                 placeholder="Diagnose"/>
        </div>
      </div>

      <app-dauer [isEditing]="true" [dauer]="bhJournal.dauer" [labelStartDatum]="labelStart"
                 [labelEndeDatum]="labelEnde"
                 (StartDatumChange)="onStartDatumChanged($event)"
                 (EndeDatumChange)="onEndeDatumChanged($event)"></app-dauer>

      <div class="form-group">
        <button class="col-sm-3 btn btn-sm btn-primary" type="submit"
                (click)="saveBhJournal(bhJournal)" [disabled]="!(form.valid && isDauerValid())">
          {{JournalButtonText}}
        </button>
        <button class="offset-sm-1 col-sm-3 btn btn-sm btn btn-secondary" type="button" (click)="onCancel()">
        Abbrechen
        </button>
      </div>
    </form>
    <div [hidden]="!infoMsg.body" class="alert alert-{{infoMsg.type}} alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <strong>Meldung:</strong> {{infoMsg.body}}
    </div>

  </div>
</div>
